import{d as e,r as l,y as a,A as s,M as t,L as u,o as d,b as n,a as c,w as o,l as i,t as f,f as _,F as m,e as r,k as p,B as v,T as h,C as b,i as y,h as x,Y as g,m as k,Z as C,c as V,z as w}from"./index.be73a8e8.js";import{_ as j}from"./gengduo.dd58aba4.js";import{R as H}from"./request.df50e013.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";var P=U(e({__name:"hpv-buy",setup(e){let U=l([]),P=l([]),R=a({_id:"",name:"",price:["1"],describe:["1"]});s((async e=>{let{_id:l,name:a,price:s,describe:t}=JSON.parse(e.value);R._id=l,R.name=a,R.price=s,R.describe=t;const u=await H.HpvPack();U.value=[u.data.data[0]],P.value=[u.data.data[1]]}));let T=l(-1),q=l(""),z=l("");let A=l(-1),B=l(""),F=l("");t([q,B],((e,l)=>{""!=e[0]&&""!=e[1]&&(v({title:"获取价格",mask:!0}),async function(){const e=await H.HpvPrice({hpv_id:R._id,combo_id:q.value,time_id:B.value});I.value=e.data.data[0].price,h()}())}));let I=l(0);let J=l("");function L(e){J.value="0"==e.detail.value?"男":"女"}let M=l("");function N(e){M.value=e.detail.value}let O=a({name:"",id_card:"",gender:J,born_date:M,phone:"",combo:z,ino_time:F,price:I,hpv_name:u(R).name});async function S(){v({title:"提交中",mask:!0});const e=await H.ResHpv(O);console.log(e),200==e.statusCode&&(h(),b({url:"/pages/my-service/hpv-view/index"}))}return(e,l)=>{const a=y,s=x,t=g,u=k,v=C;return d(),n(m,null,[c(a,{class:"hpv-choose"},{default:o((()=>[c(a,null,{default:o((()=>[c(a,{class:"hpv-type"},{default:o((()=>[i(f(_(R).name),1)])),_:1}),c(a,{class:"hpv-age"},{default:o((()=>[(d(!0),n(m,null,r(_(R).describe,((e,l)=>(d(),V(s,{key:l},{default:o((()=>[i(f(e),1)])),_:2},1024)))),128))])),_:1})])),_:1}),c(a,{class:"hpv-price"},{default:o((()=>[i("¥"+f(_(R).price[0])+"-¥"+f(_(R).price[1]),1)])),_:1})])),_:1}),p(" 表单填写 "),c(a,{class:"xinguan-view"},{default:o((()=>[c(a,{class:"xinguan-flex"},{default:o((()=>[c(s,null,{default:o((()=>[i("真实姓名")])),_:1}),c(t,{placeholder:"请输入真实姓名",modelValue:_(O).name,"onUpdate:modelValue":l[0]||(l[0]=e=>_(O).name=e),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),c(a,{class:"xinguan-flex"},{default:o((()=>[c(s,null,{default:o((()=>[i("身份证")])),_:1}),c(t,{placeholder:"请输入身份证",modelValue:_(O).id_card,"onUpdate:modelValue":l[1]||(l[1]=e=>_(O).id_card=e),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),c(a,{class:"xinguan-flex"},{default:o((()=>[c(s,null,{default:o((()=>[i("性别")])),_:1}),c(v,{mode:"selector",range:["男","女"],class:"flex-left",onChange:L},{default:o((()=>[c(a,null,{default:o((()=>[c(s,null,{default:o((()=>[i(f(""==_(J)?"请选择性别":_(J)),1)])),_:1}),c(u,{src:j})])),_:1})])),_:1})])),_:1}),c(a,{class:"xinguan-flex"},{default:o((()=>[c(s,null,{default:o((()=>[i("出生日期")])),_:1}),c(v,{mode:"date",class:"flex-left",onChange:N},{default:o((()=>[c(a,null,{default:o((()=>[c(s,null,{default:o((()=>[i(f(""==_(M)?"请选择出生日期":_(M)),1)])),_:1}),c(u,{src:j})])),_:1})])),_:1})])),_:1}),c(a,{class:"xinguan-flex"},{default:o((()=>[c(s,null,{default:o((()=>[i("手机号")])),_:1}),c(t,{placeholder:"请输入手机号",modelValue:_(O).phone,"onUpdate:modelValue":l[2]||(l[2]=e=>_(O).phone=e),type:"number","placeholder-class":"input-style"},null,8,["modelValue"])])),_:1})])),_:1}),p(" 选择套餐 "),c(a,{class:"combo-view"},{default:o((()=>[(d(!0),n(m,null,r(_(U),((e,l)=>(d(),n(m,{key:l},[c(s,{class:"combo-title"},{default:o((()=>[i(f(e.title),1)])),_:2},1024),c(a,{class:"combo-list"},{default:o((()=>[(d(!0),n(m,null,r(e.name,((e,l)=>(d(),V(s,{key:l,class:w(l==_(T)?"checkstyle":""),onClick:a=>function(e,l,a){T.value=e,q.value=l,z.value=a}(l,e.combo_id,e.combo)},{default:o((()=>[i(f(e.combo),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)],64)))),128)),p(" 接种时间 "),(d(!0),n(m,null,r(_(P),((e,l)=>(d(),n(m,{key:l},[c(s,{class:"combo-title"},{default:o((()=>[i(f(e.title),1)])),_:2},1024),c(a,{class:"combo-list"},{default:o((()=>[(d(!0),n(m,null,r(e.name,((e,l)=>(d(),V(s,{key:l,class:w(l==_(A)?"checkstyle":""),onClick:a=>function(e,l,a){A.value=e,B.value=l,F.value=a}(l,e.time_id,e.time)},{default:o((()=>[i(f(e.time),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)],64)))),128))])),_:1}),p(" 提交 "),c(a,{style:{height:"300rpx"}}),c(a,{class:"Total-view"},{default:o((()=>[c(s,null,{default:o((()=>[i("合计：¥"+f(_(I)),1)])),_:1}),c(s,{onClick:S},{default:o((()=>[i("提交")])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-69445cda"]]);export{P as default};

import{d as a,y as e,o as l,b as t,a as n,w as s,l as d,f as u,t as o,F as c,v as i,P as r,m as f,h as _,i as m,Y as p,Z as x}from"./index.be73a8e8.js";import{_ as h}from"./gengduo.dd58aba4.js";import{u as g}from"./misc.dc97d58b.js";import{R as b,A as v}from"./request.df50e013.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";var y=V(a({__name:"add-patient",setup(a){function V(a){w.sex="0"==a.detail.value?"男":"女"}function y(a){w.born=a.detail.value}function C(a){const e=a.detail.value;w.relation="0"==e?"自己":"1"==e?"父母":"其他"}async function j(){const a=await g(v,"识别中","识别失败");let e=JSON.parse(a.data);200==a.statusCode?(w.name=e.data.name,w.sex=e.data.sex,w.born=e.data.born,w.id_card=e.data.id_card):i({title:e.data,icon:"none",duration:1e3})}let w=e({name:"",sex:"",born:"",relation:"",id_card:"",phone:""});function k(){r({delta:1})}async function A(){200==(await b.PatientRes(w)).statusCode&&r({delta:1})}return(a,e)=>{const i=f,r=_,g=m,b=p,v=x;return l(),t(c,null,[n(g,{class:"AI-card",onClick:j},{default:s((()=>[n(i,{src:"/static/other/AI-shibie.svg",mode:"widthFix"}),n(r,null,{default:s((()=>[d("身份证智能识别")])),_:1})])),_:1}),n(g,{class:"xinguan-view"},{default:s((()=>[n(g,{class:"xinguan-flex"},{default:s((()=>[n(r,null,{default:s((()=>[d("真实姓名")])),_:1}),n(b,{placeholder:"请输入姓名",modelValue:u(w).name,"onUpdate:modelValue":e[0]||(e[0]=a=>u(w).name=a),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),n(g,{class:"xinguan-flex"},{default:s((()=>[n(r,null,{default:s((()=>[d("性别")])),_:1}),n(v,{mode:"selector",range:["男","女"],class:"flex-left",onChange:V},{default:s((()=>[n(g,null,{default:s((()=>[n(r,null,{default:s((()=>[d(o(""==u(w).sex?"请输入性别":u(w).sex),1)])),_:1}),n(i,{src:h})])),_:1})])),_:1})])),_:1}),n(g,{class:"xinguan-flex"},{default:s((()=>[n(r,null,{default:s((()=>[d("出生日期")])),_:1}),n(v,{mode:"date",class:"flex-left",onChange:y},{default:s((()=>[n(g,null,{default:s((()=>[n(r,null,{default:s((()=>[d(o(""==u(w).born?"请选择出生日期":u(w).born),1)])),_:1}),n(i,{src:h})])),_:1})])),_:1})])),_:1}),n(g,{class:"xinguan-flex"},{default:s((()=>[n(r,null,{default:s((()=>[d("成员关系")])),_:1}),n(v,{mode:"selector",range:["自己","父母","其他"],class:"flex-left",onChange:C},{default:s((()=>[n(g,null,{default:s((()=>[n(r,null,{default:s((()=>[d(o(""==u(w).relation?"请选择成员关系":u(w).relation),1)])),_:1}),n(i,{src:h})])),_:1})])),_:1})])),_:1}),n(g,{class:"xinguan-flex"},{default:s((()=>[n(r,null,{default:s((()=>[d("身份证")])),_:1}),n(b,{placeholder:"请输入身份证",modelValue:u(w).id_card,"onUpdate:modelValue":e[1]||(e[1]=a=>u(w).id_card=a),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),n(g,{class:"xinguan-flex"},{default:s((()=>[n(r,null,{default:s((()=>[d("手机号")])),_:1}),n(b,{placeholder:"请输入手机号",modelValue:u(w).phone,"onUpdate:modelValue":e[2]||(e[2]=a=>u(w).phone=a),type:"number","placeholder-class":"input-style"},null,8,["modelValue"])])),_:1})])),_:1}),n(g,{style:{height:"300rpx"}}),n(g,{class:"submit"},{default:s((()=>[n(r,{onClick:k},{default:s((()=>[d("取消")])),_:1}),n(r,{onClick:A},{default:s((()=>[d("确认添加")])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-c155a9a0"]]);export{y as default};

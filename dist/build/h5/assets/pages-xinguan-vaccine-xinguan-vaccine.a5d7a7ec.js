import{d as e,y as a,j as l,L as s,r as d,o as t,b as n,k as u,a as o,w as r,l as c,f as i,t as _,F as f,e as p,P as m,B as g,T as x,n as h,h as k,Y as v,i as y,m as w,Z as V,c as C,z as W}from"./index.be73a8e8.js";import{_ as b}from"./gengduo.dd58aba4.js";import{R as j}from"./request.df50e013.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";var H=U(e({__name:"xinguan-vaccine",setup(e){let U=a({data:{Hospital:"",address:"",company:[],lasting:[],week:[]}});l((async()=>{const e=await j.NewappTime();console.log(e),U.data=e.data.data[0]}));let H=a({penging_data:{name:"",id_card:"",phone:"",address:"",de_address:"",crowd_sort:"",date:"",period:"",reserve_time:"",when:0}}),{penging_data:R}=s(H);function T(e){let a="";e.detail.value.forEach((e=>a+=e+" ")),H.penging_data.address=a}let q=d(["医疗卫生人员","卫生系统内工作的其他人员","因公出国人员","对外劳务派遣人员","留学生","因私出国人员","海关边检人员","公安系统,消防人员","党政机关,事业单位人员","社区工作者","教育工作者","小学和中学学生","其他人员"]);function z(e){H.penging_data.crowd_sort=q.value[e.detail.value]}let B=d("1");function D(){m({delta:1})}async function E(){g({title:"提交中",mask:!0});const e=await j.RescoVid(H.penging_data);console.log(e),200==e.statusCode&&(x(),h({url:"/pages/my-service/xinguan/index"}))}return(e,a)=>{const l=k,s=v,d=y,m=w,g=V;return t(),n(f,null,[u(" 表单填写 "),o(d,{class:"xinguan-view"},{default:r((()=>[o(d,{class:"xinguan-flex"},{default:r((()=>[o(l,null,{default:r((()=>[c("姓名")])),_:1}),o(s,{placeholder:"请输入姓名",modelValue:i(R).name,"onUpdate:modelValue":a[0]||(a[0]=e=>i(R).name=e),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),o(d,{class:"xinguan-flex"},{default:r((()=>[o(l,null,{default:r((()=>[c("身份证")])),_:1}),o(s,{placeholder:"请输入身份证",modelValue:i(R).id_card,"onUpdate:modelValue":a[1]||(a[1]=e=>i(R).id_card=e),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),o(d,{class:"xinguan-flex"},{default:r((()=>[o(l,null,{default:r((()=>[c("手机号")])),_:1}),o(s,{placeholder:"请输入手机号",modelValue:i(R).phone,"onUpdate:modelValue":a[2]||(a[2]=e=>i(R).phone=e),type:"number","placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),o(d,{class:"xinguan-flex"},{default:r((()=>[o(l,null,{default:r((()=>[c("现居地址")])),_:1}),o(g,{mode:"region",class:"flex-left",onChange:T},{default:r((()=>[o(d,null,{default:r((()=>[o(l,null,{default:r((()=>[c(_(""==i(R).address?"请选择现居地址":i(R).address),1)])),_:1}),o(m,{src:b})])),_:1})])),_:1})])),_:1}),o(d,{class:"xinguan-flex"},{default:r((()=>[o(l,null,{default:r((()=>[c("现居详细地址")])),_:1}),o(s,{placeholder:"请输入现居详细地址",modelValue:i(R).de_address,"onUpdate:modelValue":a[3]||(a[3]=e=>i(R).de_address=e),"placeholder-class":"input-style"},null,8,["modelValue"])])),_:1}),o(d,{class:"xinguan-flex"},{default:r((()=>[o(l,null,{default:r((()=>[c("疫苗人群分类")])),_:1}),o(g,{mode:"selector",class:"flex-left",range:i(q),onChange:z},{default:r((()=>[o(d,null,{default:r((()=>[o(l,null,{default:r((()=>[c(_(""==i(R).crowd_sort?"请选择疫苗人群分类":i(R).crowd_sort),1)])),_:1}),o(m,{src:b})])),_:1})])),_:1},8,["range"])])),_:1})])),_:1}),u(" 预约时间 "),o(d,null,{default:r((()=>[u(" 医院地址 "),o(d,{class:"reserve-address"},{default:r((()=>[o(l,{class:"reserve-name"},{default:r((()=>[c(_(i(U).data.Hospital),1)])),_:1}),o(l,{class:"reserve-road"},{default:r((()=>[c(_(i(U).data.address),1)])),_:1}),o(d,{class:"reserve-title"},{default:r((()=>[(t(!0),n(f,null,p(i(U).data.company,((e,a)=>(t(),C(l,{key:a},{default:r((()=>[c(_(e),1)])),_:2},1024)))),128))])),_:1})])),_:1}),u(" 星期 "),(t(!0),n(f,null,p(i(U).data.week,((e,a)=>(t(),C(d,{class:"Week",key:a},{default:r((()=>[o(d,{class:"Week-flex",onClick:a=>{return l=e.date,void(H.penging_data.date=l);var l}},{default:r((()=>[o(d,{class:W(["Week-style Week-sup",""==i(R).date?"":"checkstyle"])},{default:r((()=>[o(l,null,{default:r((()=>[c(_(e.day),1)])),_:2},1024),o(l,null,{default:r((()=>[c(_(e.date),1)])),_:2},1024),o(l,null,{default:r((()=>[c(_(e.Have),1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1032,["onClick"])])),_:2},1024)))),128)),u(" 时段 "),(t(!0),n(f,null,p(i(U).data.lasting,((e,a)=>(t(),C(d,{class:"period-view",key:a},{default:r((()=>[o(l,{class:"period-title"},{default:r((()=>[c(_(e.period),1)])),_:2},1024),o(d,{class:"Week-flex"},{default:r((()=>[(t(!0),n(f,null,p(e.time,((s,n)=>(t(),C(d,{key:n,class:W(["Week-style Week-Down",a+"-"+n==i(B)?"checkstyle":""]),onClick:l=>function(e,a,l,s,d){B.value=e,H.penging_data.period=a,H.penging_data.reserve_time=l+"-"+s,H.penging_data.when=d}(a+"-"+n,e.period,s.start_time,s.end_time,s.when)},{default:r((()=>[o(l,null,{default:r((()=>[c(_(s.start_time)+"-"+_(s.end_time),1)])),_:2},1024),o(l,null,{default:r((()=>[c("剩余"+_(s.over),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1}),u(" 底部按钮 "),o(d,{style:{height:"300rpx"}}),o(d,{class:"submit"},{default:r((()=>[o(l,{onClick:D},{default:r((()=>[c("取消")])),_:1}),o(l,{onClick:E},{default:r((()=>[c("提交预约")])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-c037673c"]]);export{H as default};

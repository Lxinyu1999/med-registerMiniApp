import{o as a,c as e,w as l,a as s,b as t,e as o,F as u,h as i,i as r,d,r as c,A as v,K as n,y as f,L as p,x as _,M as k,l as m,f as y,t as g,k as h,N as w,n as b}from"./index.be73a8e8.js";import{R as x}from"./request.df50e013.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";var j=T({},[["render",function(d,c){const v=i,n=r;return a(),e(n,{class:"skeleton-view"},{default:l((()=>[s(n,{class:"sk-self-top"},{default:l((()=>[(a(),t(u,null,o([1,2,3],(a=>s(v,{class:"skeleton-global",key:a}))),64))])),_:1}),s(v,{class:"skeleton-global sk-self-title"}),s(n,{class:"sk-self-flex"},{default:l((()=>[(a(),t(u,null,o([1,2,3,4,5],(a=>s(v,{class:"skeleton-global",key:a}))),64))])),_:1})])),_:1})}],["__scopeId","data-v-292a6920"]]);var C=T(d({__name:"topic",setup(d){let T=c("");v((a=>{let{type:e,name:l}=a;T.value=e,n({title:l})}));let C=c([]),I=c(0),q=f({data:{topic:"",_id:"",options:[]}}),{data:N}=p(q),A=c(!0);_((async()=>{if(D.value=1,F.value=0,J.value=0,K.value=[],"001"==T.value)var a=await x.DepressionTopics();else if("002"==T.value)a=await x.PrematureTopics();else a=await x.InsomniaTopics();C.value=a.data.data,I.value=a.data.data.length,q.data=a.data.data[0],J.value=100/I.value,A.value=!1}));let D=c(1),F=c(0),J=c(0),K=f({value:[]});return k([F,I],((a,e)=>{if(a[0]===a[1]){console.log("监听是否全部选择完毕，ok的话，跳转下一页");let a=JSON.stringify({type:T.value,topic_id:K.value});b({url:"/pages/self-test/result?value="+a})}})),(d,c)=>{const v=i,n=w,f=r;return a(),t(u,null,[s(f,{class:"progress-box"},{default:l((()=>[s(v,null,{default:l((()=>[m("测评进度")])),_:1}),s(n,{class:"progress",percent:y(J),"border-radius":"40","stroke-width":"9",color:"#cce3ff",activeColor:"#2d8dfe",active:!0,"active-mode":"forwards",duration:"15"},null,8,["percent"]),s(v,null,{default:l((()=>[m(g(y(D))+"/"+g(y(I)),1)])),_:1})])),_:1}),h(" 题目 "),s(f,{class:"question"},{default:l((()=>[m(g(y(N).topic),1)])),_:1}),h(" 单选题 "),s(f,{class:"topic-view"},{default:l((()=>[s(f,{class:"topic-Title"},{default:l((()=>[s(v),s(v,null,{default:l((()=>[m("单选题")])),_:1})])),_:1}),(a(!0),t(u,null,o(y(N).options,((s,t)=>(a(),e(f,{class:"totic","hover-class":"hover-style","hover-stay-time":"300",key:t,onClick:a=>{return e=s.son_id,F.value++,F.value<I.value&&(D.value++,J.value=100/I.value*D.value,q.data=C.value[F.value]),void K.value.push(e);var e}},{default:l((()=>[m(g(s.title),1)])),_:2},1032,["onClick"])))),128))])),_:1}),h(" 骨架屏 "),y(A)?(a(),e(j,{key:0})):h("v-if",!0)],64)}}}),[["__scopeId","data-v-3a007dad"]]);export{C as default};

import{d as a,r as s,y as e,o as l,b as t,a as i,w as c,l as n,f as u,k as o,F as d,e as r,t as p,n as f,P as m,B as _,v as h,h as g,U as k,i as x,V as b,R as v,W as y,m as C,c as j}from"./index.be73a8e8.js";import{_ as w}from"./touxiang.28d0249a.js";import{u as F}from"./misc.dc97d58b.js";import{R as V,I}from"./request.df50e013.js";import{m as T}from"./index.41a14a60.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";var U=R(a({__name:"index",setup(a){async function R(){const a=await F(I,"上传中","上传失败");G.ins_report.push(JSON.parse(a.data).data)}function U(a){G.guide=0!==a.detail.value.length}function q(){f({url:"/pages/my-service/my-patient/my-patient"})}let B=s("");T().$subscribe(((a,s)=>{B.value=s.patient.name,G.patient_id=s.patient._id}));let G=e({illness:"",guide:!1,ins_report:[],patient_id:""});function H(){m({delta:1})}async function J(){_({title:"提交中",mask:!0});200==(await V.GrapHics(G)).statusCode&&h({title:"提交成功",icon:"none",duration:1e3})}return(a,s)=>{const e=g,f=k,m=x,_=b,h=v,F=y,V=C;return l(),t(d,null,[i(m,{class:"graphics-back"},{default:c((()=>[i(e,{class:"graphics-Title"},{default:c((()=>[n("请详细描述你的病情")])),_:1}),i(f,{placeholder:"为了更好获得医生帮助,请尽可能详细描述病情",maxlength:"300","placeholder-class":"textarea-color","auto-focus":!0,modelValue:u(G).illness,"onUpdate:modelValue":s[0]||(s[0]=a=>u(G).illness=a)},null,8,["modelValue"])])),_:1}),o(" 指导用药 "),i(m,{class:"graphics-back"},{default:c((()=>[i(F,{onChange:U},{default:c((()=>[i(h,null,{default:c((()=>[i(_,{value:"cb",checked:u(G).guide,color:"#0176ff"},null,8,["checked"]),n("需要医生指导用药 ")])),_:1})])),_:1})])),_:1}),o(" 上传图片 "),i(m,{class:"graphics-back"},{default:c((()=>[i(e,{class:"graphics-Title"},{default:c((()=>[n("上传检查报告或患处照片")])),_:1}),i(m,{class:"pat-image"},{default:c((()=>[(l(!0),t(d,null,r(u(G).ins_report,((a,s)=>(l(),j(m,{class:"upload-Image",key:s},{default:c((()=>[i(V,{src:a,mode:"aspectFill"},null,8,["src"]),i(V,{src:"/static/other/shanchu-goods.svg",mode:"widthFix",onClick:a=>u(G).ins_report.splice(s,1)},null,8,["onClick"])])),_:2},1024)))),128)),i(m,null,{default:c((()=>[i(V,{src:"/static/other/shuxing-img.png",onClick:R,mode:"aspectFill"})])),_:1})])),_:1})])),_:1}),o(" 选择就诊人 "),i(m,{class:"graphics-back"},{default:c((()=>[i(e,{class:"graphics-Title"},{default:c((()=>[n("选择就诊人")])),_:1}),i(m,{class:"patient-view"},{default:c((()=>[i(V,{src:w,mode:"widthFix"}),i(e,null,{default:c((()=>[n(p(u(B)),1)])),_:1}),i(e,{onClick:q},{default:c((()=>[n(p(""==u(B)?"选择就诊人":"重新选择"),1)])),_:1})])),_:1})])),_:1}),o(" 提交 "),i(m,{style:{height:"300rpx"}}),i(m,{class:"submit"},{default:c((()=>[i(e,{onClick:H},{default:c((()=>[n("取消")])),_:1}),i(e,{onClick:J},{default:c((()=>[n("提交")])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-06f99e8c"]]);export{U as default};
